# 1091. Shortest Path in Binary Matrix

- https://leetcode.com/problems/shortest-path-in-binary-matrix/

Given an `n` x `n` binary matrix `grid`, return the length of the shortest clear path in the matrix. If there is no clear path, return `-1`.

A clear path in a binary matrix is a path from the top-left cell (i.e., `(0, 0)`) to the bottom-right cell (i.e., `(n - 1, n - 1)`) such that:

- All the visited cells of the path are `0`.
- All the adjacent cells of the path are 8-directionally connected (i.e., they are different and they share an edge or a corner).
- The length of a clear path is the number of visited cells of this path.

# Solution

Using BFS:

```python
neighbors = [(0, 1), (0, -1), (1, 0), (-1, 0), (1, -1), (1, 1), (-1, -1), (-1, 1)]

class Solution:
    def shortestPathBinaryMatrix(self, grid: List[List[int]]) -> int:
        if grid[0][0] == 1:
            return -1
        
        visited = set()
        queue = [(0, 0, 1)]
        while len(queue) > 0:
            current_position = queue.pop(0)
            current_x, current_y = current_position[0], current_position[1]
            
            # we have reached the end
            if current_x == len(grid) - 1 and current_y == len(grid[0]) - 1: 
                return current_position[2]
            
            # skip already visited nodes
            if (current_x, current_y) in visited: 
                continue
                
            visited.add((current_x, current_y))
            
            # process neighbors
            for x_offset, y_offset in neighbors:
                next_position = (current_position[0] + x_offset, current_position[1] + y_offset, current_position[2] + 1)
                next_x, next_y = next_position[0], next_position[1]
                if next_x < 0 or next_x > len(grid)-1 or next_y < 0 or next_y > len(grid[0])-1: # dont proceed if out of bounds
                    continue
                    
                if grid[next_x][next_y] == 1: # dont proceed to a wall
                    continue
                    
                if (next_x, next_y) in visited: # dont visit already visited nodes
                    continue
                
                queue.append(next_position)
               
        return -1
```

