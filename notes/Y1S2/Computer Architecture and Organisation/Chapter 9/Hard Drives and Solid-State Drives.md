# Hard Drives and Solid-State Drives

# Hard Drives

![Hard Drive image](https://sites.google.com/site/computerhardwaremaintenance000/_/rsrc/1468866353561/home/hard-disk/definition/hdd-diagram.jpg)

- Stores data by magnetising a thin film of ferromagnetic media on the circular disk known as the **platter**
- Each drive has one or more platters on a common spindle, covered with a thin magnetic film
- Platters rotate on a spindle at a constant rate
- Data is stored on the surface of the platter in concentric rings called *8tracks**
  - Gaps between tracks to minimise interference from adjacent tracks
- Tracks are divided into secots
  - Minimum data block size is a sector
- Data is read using the magnetic read/write head
- The magnetic head uses the wind pressure generated by the high speed rotation of the disk to fly above the disk surface, similar to principles employed by the aircraft

# Hard Drive Transfer Rate
- Seek time (TS)
  - Time taken for the head to move to the correct track
- Rotational Delay (TR)
  - Time taken for the disk to rotate until the read/write head reaches the starting position of the target sector
  - Dependent on rotational speed
  - For a random section, the average rotational delay is (0.5)/(Revolutions per seconds) seconds
  - The average rotation required for a random part of the disk is 1/2 a rotation
- Access Time (TA)
  - Time from request to the time the head is in position (TS + TR)
- Transfer Time (TT)
  - Time required to transfer the required data after the head is positioned
  - Dependent on rotational speed of disk, track density (number of sectors per track), sector density (number of bytes per sector) and number of bytes required to be transferred
  - TT = (Number of bytes)/(Rotational speed * number of sectors per track * sector density)

# Physical Layout

### Early HDD
- Equal number of sectors per track and each sector has the same data size
- Same-number tracks from different surfaces form a cylinder
- Early hard disks were implemented using this topology to simplify controller design

### Modern HDD
- Having equal number of sectors per track means that sectors on the outer track are wider
- Waste physical space as bit density of further out tracks are not optimal
- Zone bit recording technique addresses space wastage
- Tracks are divided into zones with differing number of sectors per track for different zones

# Logical Layout

![Logical Layout of HDD](https://venam.nixers.net/blog/assets/data_storage/chs_lba.gif)

- How the software sees and addresses HDD data
- Address translations required to map physical to logical locations. Two addressing schemes include **CHS** and **LBA**

### Cylinder-Head-Sector (CHS)

- Legacy scheme using old HDD physical structure
- Made obsolete in recent standard due to addressing limitations and more complex formatting

### Logical Block Addressing (LBA)
- Simple linear addressing starting from LBA=0 as first block, LBA=1 as second block and so on
- 48-bit LBA standard allows addressing up to 128 PetaBytes. 1 PByte = 2^50 bytes

### Modern HDD
- Detailed physical layouts not given due to complex zone bit recording
- Only the average transfer rate is given
- Use of cache and buffers to speed up data transfer
- However, concept and limitation of the magnetic HDD's physical design is still valid
  - Actuator ARM is fixxed, and access is sequential. If data is missed, it has to wait for a disc revolution
  - Seeking from track to track takes time as RW head needs to reposition to align with the starting sector
  - More efficient to read in blocks rather than random access
  - Vulnerable to motion

### Solid State Drive (SSD)
- Solid state drives are becoming popular
  - Memory array based on NAND-FLASH or NOR-FLASH
  - Still more expensive than magnetic hard disk
- Flash memory has limited program-erase cycles (3 000 - 1 000 000)
- Various techniques used to extend the life of an SSD
  - Wear levelling: Distributing data erase/write operations evenly over the entire disk
  - Use External RAM as a buffer to minimise number of writes to flash in SSD
  - Error correction codes to recover from one or more bits of error in media
- Mean Time Before Failure (MTBF) of recent SSDs comparable to that of HDDs

# Hard Drive vs Solid-State Drive

### HDD
- Pros
  - Lower cost per bit
  - Almost infinite erasure cycles
- Cons
  - Consists of moving mechanical parts so more prone to crashing if HDD is dropped/shaken
  - Heavier and larger physical profile
  - Slower transfer rate

### SSD
- Pros
  - No moving parts. More robust to movement
  - Lighter and occupy less space
  - Higher transfer rate
- Cons
  - More costly compared to HDD
  - Finite number of erasure cycles
